<div>
  <div layout="column">
    <div layout-padding layout-margin>
      <md-card>
        <section class="box" id="adminSystemLookup" >
          <h1>System Lookups</h1>
          <form (ngSubmit)="addLookup()" #lookupForm="ngForm">
            <md-tab-group>
              <md-tab label="System Lookups">
                <system-lookup [Collections]="systemLookupCollections" [lookupName]="systemLookupLookupName" (onSelected)="returnResult($event)"></system-lookup>
              </md-tab>
              <md-tab label="Create">
                  <md-tab-group>
                    <md-tab label="Info">
                      <md-input-container>
                        <input mdInput id="nameInput" [(ngModel)]="nameInput" name="name" type="text" placeholder="Name" required #spy #nameLookup="ngModel">
                      </md-input-container>
                      <div [hidden]="nameLookup.valid || nameLookup.pristine" [ngStyle]="{'color': 'red'}">
                        Name is required
                      </div>
                      <br>
                      <md-input-container>
                        <input mdInput id="collectionInput" [(ngModel)]="collectionInput" name="collection" type="text" placeholder="Collection" required #spy #collectionLookup="ngModel">
                      </md-input-container>
                      <div [hidden]="collectionLookup.valid || collectionLookup.pristine" [ngStyle]="{'color': 'red'}">
                        Collection is required
                      </div>
                      <br>
                      <md-input-container>
                        <input mdInput id="labelInput" [(ngModel)]="labelInput" name="label" type="text" placeholder="Label" required #spy #labelLookup="ngModel">
                      </md-input-container>
                      <div [hidden]="labelLookup.valid || labelLookup.pristine" [ngStyle]="{'color': 'red'}">
                        Label is required
                      </div>
                      <br>
                      <md-select placeholder="Lookup Type" [(ngModel)]="lookupTypeInput" [ngModelOptions]="{standalone: true}">
                        <md-option *ngFor="let lookup of lookups" [value]="lookup.value">
                          {{ lookup.viewValue }}
                        </md-option>
                      </md-select>
                      <br>
                      <br>
                      <md-checkbox class="searchableCheck" [(ngModel)]="searchable" [ngModelOptions]="{standalone: true}">Searchable</md-checkbox>
                    </md-tab>
                    <md-tab label="Query">
                      <md-input-container>
                        <textarea mdInput resizeToFitContent id="queryInput" [(ngModel)]="queryInput" name="query" type="text" placeholder="Query" required #spy #queryLookup="ngModel">
                      </md-input-container>
                      <div [hidden]="queryLookup.valid || queryLookup.pristine" [ngStyle]="{'color': 'red'}">
                        Query is required
                      </div>
                    </md-tab>
                    <md-tab label="DataTable">
                      <md-input-container>
                        <textarea mdInput resizeToFitContent id="dataTableInput" [(ngModel)]="dataTableInput" name="dataTable" type="text" placeholder="Data Table" required #spy #dataTableLookup="ngModel">
                      </md-input-container>
                      <div [hidden]="dataTableLookup.valid || dataTableLookup.pristine" [ngStyle]="{'color': 'red'}">
                        Data Table is required
                      </div>
                    </md-tab>
                  </md-tab-group>
                  <button md-raised-button [disabled]="!lookupForm.form.valid" color="warn" type="submit">Add Lookup</button>
              </md-tab>
            </md-tab-group>
          </form>
        </section>
      </md-card>
    </div>
  </div>
</div>
